diff --git i/dos/string.h w/dos/string.h
index f648de2d..48ff26f9 100644
--- i/dos/string.h
+++ w/dos/string.h
@@ -5,12 +5,21 @@
 #ifndef _STRING_H
 #define _STRING_H
 
+#include <stddef.h> // for size_t
+
 /* Standard routines */
 #define memcpy(a,b,c)	__builtin_memcpy(a,b,c)
 #define memmove(a,b,c)	__builtin_memmove(a,b,c)
 #define memset(a,b,c)	__builtin_memset(a,b,c)
 #define strcpy(a,b)	__builtin_strcpy(a,b)
-#define strlen(a)	__builtin_strlen(a)
+
+// Custom implementation of strlen.
+// See https://wiki.syslinux.org/wiki/index.php?title=Building
+static inline size_t strlen(const char *str) {
+    const char *s = str;
+    while (*s) ++s;
+    return (size_t)(s - str);
+}
 
 /* This only returns true or false */
 static inline int memcmp(const void *__m1, const void *__m2, unsigned int __n)
